{% extends "base.html" %}

{% block content %}
  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>Explorer</h1>
    </section>

    <!-- Main content -->
    <section class="content">

      <!-- PAGE HEADER -->
      <div class="box box-info"></div>
      <br>
        <form class="login101-form validate-form" action="" method="post">
          {{ form.hidden_tag() }}

          <div class="wrap-input101 validate-input m-b-10" data-validate = "Please enter a valid number">
            {{ form.search(id="search-bar", class="input101", value="", autocomplete="off", style="background-color:#e3eeec; font-style:italic;", placeholder="Search the blockchain for an address, block hash, block height or transaction ID", size=36) }}
            {% for error in form.search.errors %}
              <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
          </div>

        </form>
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            {% for message in messages %}
              <h4 style="color: white;" align="center">{{ message }}</h4>
            {% endfor %}
          {% endif %}
        {% endwith %}
      <br>
      <br>
      <!-- Main row -->
      <div class="row">
        <!-- Left col -->
        <section class="col-lg-7 connectedSortable">

          <!-- TABLE: Latest activity -->
          <div class="box box-info" style='color:white;'>
            <div class="box-header with-border" style='color:white;'>
              <h3 class="box-title"><strong>Latest Blocks</strong></h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
              <div class="table-responsive">
                <table class="table no-margin">
                  <thead>
                  <tr>
                    <th>Hash</th>
                    <th>Height</th>
                    <th>Age</th>
                    <th>Transactions</th>
                    <th>Size (kB)</th>
                  </tr>
                  </thead>
                  <tbody>

                  {% for row in table %}
                    <tr>
                      <td><a class="id-link">{{ row[0][:35] }}..</a></td>
                      <td>{{ row[1] }}</td>
                      <td>{{ row[2] }} minutes</td>
                      <td>{{ row[3] }}</td>
                      <td>{{ row[4] }}</td>
                    </tr>
                  {% endfor %}

                  </tbody>
                </table>
              </div>
              <!-- /.table-responsive -->
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->

        </section>
        <!-- right col -->
        
      </div>
      <!-- /.row (main row) -->

    </section>
    <!-- /.content -->



  </div>
{% endblock %}
